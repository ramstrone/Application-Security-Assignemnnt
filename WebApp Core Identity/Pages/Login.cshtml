@page
@model WebApp_Core_Identity.Pages.LoginModel
@{
 ViewData["Title"] = "Login";
}

<h2>Login</h2>

<form method="post" id="loginForm">
 <div class="mb-3">
 <label asp-for="LModel.Email" class="form-label"></label>
 <input asp-for="LModel.Email" class="form-control" />
 <span asp-validation-for="LModel.Email" class="text-danger"></span>
 </div>
 <div class="mb-3">
 <label asp-for="LModel.Password" class="form-label"></label>
 <input asp-for="LModel.Password" class="form-control" type="password" />
 <span asp-validation-for="LModel.Password" class="text-danger"></span>
 </div>
 <div class="mb-3 form-check">
 <input asp-for="LModel.RememberMe" class="form-check-input" />
 <label asp-for="LModel.RememberMe" class="form-check-label"></label>
 </div>
 <input type="hidden" id="g-recaptcha-response" name="gRecaptchaToken" />
 <button type="submit" class="btn btn-primary">Login</button>
</form>

@section Scripts {
 @if (!string.IsNullOrEmpty(Model.RecaptchaSiteKey))
 {
 <script src="https://www.google.com/recaptcha/api.js?render=@Model.RecaptchaSiteKey"></script>
 <script>
 grecaptcha.ready(function () {
 grecaptcha.execute('@Model.RecaptchaSiteKey', { action: 'login' }).then(function (token) {
 document.getElementById('g-recaptcha-response').value = token;
 });
 });
 </script>
 }
}

